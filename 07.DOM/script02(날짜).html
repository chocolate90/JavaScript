<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <script>

    /* 날짜 생성방법 new Date(); */

    var date = new Date();
    var date2 = new Date("2021-06-04");
    var date3 = new Date("2021-06-04 16:20:20");
    var date4 = new Date(1622791352275); /* 밀리초 기준 */

    console.log(date);
    console.log(date2);
    console.log(date3);
    console.log(date4)

    /* 날짜 기준 - 년 월 일 시 분 초를 숫자형태로 얻는 방법 */

    console.log(date.getFullYear());
    console.log(date.getMonth() + 1);
    console.log(date.getDate());
    console.log(date.getHours());
    console.log(date.getMinutes());
    console.log(date.getSeconds());
    console.log(date.getTime());

    /* 
      1시간 이전 작성은 방금전, 하루 이전 작성은 xx시간전, 하루가 넘어간 경우는 날짜 표기
    */

    // 1622791352275 

    var now = new Date();

    var nowMillis = now.getTime();

    var millis = 1622791352275;
    var gap = nowMillis - 1622791352275;

    console.log(gap);

    var time;
    if( gap < 86400000 ) { /* 1일 이하 */

      if(gap < 3600000) { /* 1시간 이전 */
        time = "방금전";
      } else {
        time = parseInt(gap / 60 * 60 * 1000) + " 시간전";
      }

    } else { /* 1일 이상인 경우 */

      var today = new Date(millis);
      var year = today.getFullYear();
      var month = today.getMonth();
      var day = today.getDate();
      var hour = today.getHours();
      var minute = today.getMinutes();
      var second = today.getSeconds();

      time = year + "년" + (month < 10 ? "0" + month : month) + "월" + day + "일" + hour + "시" + minute + "분" + second + "초";

    }

    console.log(time);

  </script>

</body>
</html>