<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <style>

    .func1 {
      width: 300px;
      height: 300px;
      background-color: skyblue;
    }

    .func2 {
      width: 200px;
      height: 200px;
      background-color: steelblue;
    }

    .func3 {
      width: 100px;
      height: 100px;
      background-color: royalblue;
    }

  </style>

</head>
<body>
  
  <h3>캡처링 vs 버블링</h3>

  <div class="func1">
    <div class="func2">
      <div class="func3">func3(자식)</div>
    </div>
  </div>

  <script>

    /* 
      DOM의 이벤트 기본동작 방식은 버블링
      버블링 - 부모, 자식 모두 이벤트가 걸려있을 때 이벤트가 자식 -> 부모로 전파되는 특징
      3번 클릭시 -> 2번 -> 1번으로 전파된다.
    */

    var func1 = document.querySelector(".func1");
    var func2 = document.querySelector(".func2");
    var func3 = document.querySelector(".func3");

    // func1.onclick = function() {
    //   alert(1);
    // }

    // func2.onclick = function() {
    //   alert(2);
    // }

    // func3.onclick = function() {
    //   alert(3);
    //   event.stopPropagation(); /* 이벤트의 버블링을 중단하는 기능 */
    // }


    /* 
      캡처링 - 부모, 지식에 모두 이벤트가 걸려있을 때 이벤트가 부모 -> 자식으로 전파되는 특징 
      addEventListener() 방식으로만 가능
      캡처링은 사용될 일이 많지 않고, 이벤트 실행 순서가 1 -> 2 -> 3 순서로 전파된다.
    */

    func1.addEventListener("click", function() {
      alert(1);
      event.stopPropagation();
    }, true);
    func2.addEventListener("click", function() {
      alert(2);
    }, true);
    func3.addEventListener("click", function() {
      alert(3);
    }, true);
    

  </script>

</body>
</html>